<?xml version="1.0" encoding="UTF-8"?>
<!--
########### SVN repository information ###################
# $Date$
# $Author$
# $Revision$
# $HeadURL$
# $Id$
########### SVN repository information ###################
-->
<definition xmlns="http://www.nexusformat.org"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.nexusformat.org nxdl.xsd"
    name="NXbeam"
    type="group" extends="NXobject">
    <doc>Template of the state of the neutron or X-ray beam at any location. It will be referenced
        by beamline component groups within the NXinstrument group or by the NXsample group. Note
        that variables such as the incident energy could be scalar values or arrays. This group is
        especially valuable in storing the results of instrument simulations in which it is useful
        to specify the beam profile, time distribution etc. at each beamline component. Otherwise,
        its most likely use is in the NXsample group in which it defines the results of the neutron
        scattering by the sample, e.g., energy transfer, polarizations. </doc>
    <field name="distance" type="NX_FLOAT" units="m">
        <doc>Distance from sample</doc>
    </field>
    <field name="incident_energy" type="NX_FLOAT" dims="[:]" units="meV">
        <doc>Energy on entering beamline component</doc>
    </field>
    <field name="final_energy" type="NX_FLOAT" dims="[:]" units="meV">
        <doc>Energy on leaving beamline component</doc>
    </field>
    <field name="energy_transfer" type="NX_FLOAT" dims="[:]" units="meV">
        <doc>Energy change caused by beamline component</doc>
    </field>
    <field name="incident_wavelength" type="NX_FLOAT" dims="[:]" units="Angstroms">
        <doc>Wavelength on entering beamline component</doc>
    </field>
    <field name="incident_wavelength_spread" type="NX_FLOAT" dims="[:]" units="Angstroms">
        <doc>Wavelength spread FWHM on entering component</doc>
    </field>
    <field name="incident_beam_divergence" type="NX_FLOAT" dims="[2,:]" units="degree">
        <doc>Divergence of beam entering this component</doc>
    </field>
    <field name="final_wavelength" type="NX_FLOAT" dims="[:]">
        <doc>Wavelength on leaving beamline component</doc>
    </field>
    <field name="incident_polarization" type="NX_FLOAT" dims="[3,:]">
        <doc>Polarization vector on entering beamline component</doc>
    </field>
    <field name="final_polarization" type="NX_FLOAT" dims="[3,:]">
        <doc>Polarization vector on leaving beamline component</doc>
    </field>
    <field name="final_wavelength_spread" type="NX_FLOAT" dims="[:]" units="Angstroms">
        <doc>Wavelength spread FWHM of beam leaving this component</doc>
    </field>
    <field name="final_beam_divergence" type="NX_FLOAT" dims="[2,:]" units="degrees">
        <doc>Divergence FWHM of beam leaving this component</doc>
    </field>
    <field name="flux" type="NX_FLOAT" dims="[i]" units="s-1cm-2">
        <doc>flux incident on beam plane area</doc>
    </field>
    <group type="NXdata">
        <doc>Distribution of beam with respect to relevant variable e.g. wavelength. This is mainly
            useful for simulations which need to store plottable information at each beamline
            component.</doc>
    </group>
</definition>