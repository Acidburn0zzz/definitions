<?xml version="1.0" encoding="UTF-8"?>
<!--
# NeXus - Neutron and X-ray Common Data Format
# 
# Copyright (C) 2008-2010 NeXus International Advisory Committee (NIAC)
# 
# This library is free software; you can redistribute it and/or
# modify it under the terms of the GNU Lesser General Public
# License as published by the Free Software Foundation; either
# version 3 of the License, or (at your option) any later version.
#
# This library is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public
# License along with this library; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
#
# For further information, see http://www.nexusformat.org

########### SVN repository information ###################
# $Date$
# $Author$
# $Revision$
# $HeadURL$
# $Id$
########### SVN repository information ###################
-->
<definition xmlns="http://definition.nexusformat.org/nxdl/3.1" category="base"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://definition.nexusformat.org/nxdl/3.1 ../nxdl.xsd"
	name="NXfilter" 
	version="1.0"
    svnid="$Id$"
	type="group" extends="NXobject">
	<doc>Template for specifying the state of band pass filters</doc>
	<group type="NXgeometry">
		<doc>Geometry of the filter</doc>
	</group>
	<field name="description">
		<doc>Composition of the filter. Choose only one from the enumerated list and spell exactly.
		Contact the NIAC if you wish to add to the list.</doc>
		<!-- TODO relax from an enumeration to a string and handle a wider variety of materials
			TODO move the enumeration strings to the documentation note
			TODO also need to add these as fields
				thickness
				density
				chemical formula (this could be the relax version of the description field)
		-->
		<enumeration>
			<item value="Beryllium" />
			<item value="Pyrolytic Graphite" />
			<item value="Graphite" />
			<item value="Sapphire" />
			<item value="Silicon" />
			<item value="Supermirror" />
		</enumeration>
	</field>
	<field name="status">
		<doc>position with respect to in or out of the beam (choice of only "in" or "out")</doc>
		<enumeration>
			<item value="in"><doc>in the beam</doc></item>
			<item value="out"><doc>out of the beam</doc></item>
		</enumeration>
	</field>
	<group name="transmission" type="NXdata">
		<doc>Wavelength transmission profile of filter</doc>
	</group>
	<field name="temperature" type="NX_FLOAT" units="NX_TEMPERATURE">
		<doc>average/nominal filter temperature</doc>
	</field>
	<group name="temperature_log" type="NXlog">
		<doc>Linked temperature_log for the filter</doc>
	</group>
	<group name="sensor_type" type="NXsensor">
		<doc>Sensor(s)used to monitor the filter temperature</doc>
	</group>
	<field name="unit_cell_a" type="NX_FLOAT" units="NX_LENGTH">
		<doc>Unit cell lattice parameter: length of side a</doc>
	</field>
	<field name="unit_cell_b" type="NX_FLOAT" units="NX_LENGTH">
		<doc>Unit cell lattice parameter: length of side b</doc>
	</field>
	<field name="unit_cell_c" type="NX_FLOAT" units="NX_LENGTH">
		<doc>Unit cell lattice parameter: length of side c</doc>
	</field>
	<field name="unit_cell_alpha" type="NX_FLOAT" units="NX_ANGLE">
		<doc>Unit cell lattice parameter: angle alpha</doc>
	</field>
	<field name="unit_cell_beta" type="NX_FLOAT" units="NX_ANGLE">
		<doc>Unit cell lattice parameter: angle beta</doc>
	</field>
	<field name="unit_cell_gamma" type="NX_FLOAT" units="NX_ANGLE">
		<doc>Unit cell lattice parameter: angle gamma</doc>
	</field>
	<field name="unit_cell_volume" type="NX_FLOAT" units="NX_VOLUME">
		<doc>Unit cell</doc>
		<dimensions rank="1"><dim index="1" value="n_comp"/></dimensions>
	</field>
	<field name="orientation_matrix" type="NX_FLOAT">
		<doc>Orientation matrix of single crystal filter</doc>
		<dimensions rank="3"><!--n_comp,3,3-->
			<dim index="1" value="n_comp"/>
			<dim index="2" value="3"/>
			<dim index="3" value="3"/>
		</dimensions>
	</field>
	<field name="m_value" type="NX_FLOAT" units="NX_DIMENSIONLESS">
		<doc>m value of supermirror filter</doc>
	</field>
	<field name="substrate_material">
		<doc>substrate material of supermirror filter</doc>
	</field>
	<field name="substrate_thickness" type="NX_FLOAT" units="NX_LENGTH">
		<doc>substrate thickness of supermirror filter</doc>
	</field>
	<field name="coating_material">
		<doc>coating material of supermirror filter</doc>
	</field>
	<field name="substrate_roughness" type="NX_FLOAT" units="NX_LENGTH">
		<doc>substrate roughness (RMS) of supermirror filter</doc>
	</field>
	<field name="coating_roughness" type="NX_FLOAT" units="NX_LENGTH">
		<doc>coating roughness (RMS) of supermirror filter</doc>
		<dimensions rank="1"><dim incr="1" value="nsurf"/></dimensions>
	</field>
</definition>

