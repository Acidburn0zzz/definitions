<?xml version="1.0" encoding="UTF-8"?>
<?oxygen RNGSchema="http://www.oasis-open.org/docbook/xml/5.0/rng/docbook.rng" type="xml"?>
<!-- # $Id$ -->
<chapter xmlns="http://docbook.org/ns/docbook" version="5.0"
    xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink">
    <title>Base classes</title>
    <section>
        <title>Overview of base classes</title>
        <note>
            <para>This section intro could be rewritten in the breezy style of the NeXus wiki page:
                    <link xmlns:xlink="http://www.w3.org/1999/xlink"
                    xlink:href="http://www.nexusformat.org/Design"
                    >http://www.nexusformat.org/Design</link>
            </para>
        </note>
        <para> Each of the base classes is described in two basic ways. First, a short list of
            descriptive information is provided as a header, then a table summarizing the fields and
            groups that comprise the base class is given. <variablelist>
                <varlistentry>
                    <term>SVN Id</term>
                    <listitem>
                        <para>Subversion repository checkout identification, stripped of the
                            surrounding dollar signs. (The <emphasis role="italic">Id</emphasis> is
                            blank on files copied direct from the repository that are not checked
                            out by a subversion client.)</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>NXDL source</term>
                    <listitem>
                        <para>Name of the base class and a URL to the source listing in the NeXus
                            subversion repository.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>NeXus Definitional Language</term>
                    <listitem>
                        <para>URL to the documentation of the NeXus Definition Language
                            (NXDL).</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>extends class</term>
                    <listitem>
                        <para>NeXus base class extended by this class. Most NeXus base classes only
                            extend the base class definition (NXDL).</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>other classes included</term>
                    <listitem>
                        <para>List (including URLs) of other classes used to define this
                            class.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>documentation</term>
                    <listitem>
                        <para>Description of the base class. No markup or formatting is
                            allowed.</para>
                    </listitem>
                </varlistentry>
            </variablelist></para>
        <para>The table has columns to describe the basic information about each field or group in
            the class.</para>
        <table>
            <title>Example Tabular representation of an NX base class</title>
            <tgroup cols="5">
                <colspec colnum="1" colwidth="1.5*"/>
                <colspec colnum="2" colwidth="1.5*"/>
                <colspec colnum="3" colwidth="1.5*"/>
                <colspec colnum="4" colwidth="1*"/>
                <colspec colnum="5" colwidth="3*"/>
                <thead>
                    <row>
                        <entry>Name</entry>
                        <entry>
                            <para>Occurrences</para>
                            <para>/ Attributes</para>
                        </entry>
                        <entry>Type</entry>
                        <entry>Units</entry>
                        <entry>Description</entry>
                    </row>
                </thead>
                <tbody>
                    <row>
                        <entry morerows="2">program_name</entry>
                        <entry/>
                        <entry>NX_CHAR</entry>
                        <entry/>
                        <entry>Name of program used to generate this file</entry>
                    </row>
                    <row>
                        <entry>
                            <emphasis role="italic">@version</emphasis>
                        </entry>
                        <entry>NX_CHAR</entry>
                        <entry/>
                        <entry>Program version number</entry>
                    </row>
                    <row>
                        <entry>
                            <emphasis role="italic">@configuration</emphasis>
                        </entry>
                        <entry>NX_CHAR</entry>
                        <entry/>
                        <entry>configuration of the program</entry>
                    </row>
                    <row>
                        <entry morerows="1">thumbnail</entry>
                        <entry/>
                        <entry>
                            <link xmlns:xlink="http://www.w3.org/1999/xlink"
                                xlink:href="http://www.nexusformat.org/NXnote">NXnote</link>
                        </entry>
                        <entry/>
                        <entry>A small image that is representative of the entry. An example of this
                            is a 640x480 jpeg image automatically produced by a low resolution plot
                            of the NXdata.</entry>
                    </row>
                    <row>
                        <entry>
                            <emphasis role="italic">@mime_type</emphasis>
                        </entry>
                        <entry>NX_CHAR</entry>
                        <entry/>
                        <entry>expected: <emphasis role="bold"
                            >mime_type="image/*"</emphasis></entry>
                    </row>
                    <row>
                        <entry>distance</entry>
                        <entry/>
                        <entry>NX_FLOAT</entry>
                        <entry>NX_LENGTH</entry>
                        <entry>Distance from sample</entry>
                    </row>
                    <row>
                        <entry>mode</entry>
                        <entry/>
                        <entry>
                            <para>"Single Bunch" </para>
                            <para> | "Multi Bunch"</para>
                        </entry>
                        <entry/>
                        <entry>source operating mode</entry>
                    </row>
                    <row>
                        <entry>target_material</entry>
                        <entry/>
                        <entry>
                            <para>Ta</para>
                            <para> | W</para>
                            <para> | depleted_U</para>
                            <para> | enriched_U</para>
                            <para> | Hg</para>
                            <para> | Pb</para>
                            <para> | C</para>
                        </entry>
                        <entry/>
                        <entry>Pulsed source target material</entry>
                    </row>
                </tbody>
            </tgroup>
        </table>
        <para> In the above example, the fields might appear in a NeXus XML data file as </para>
        <example>
            <title>Example fragment of a NeXus XML data file</title>
            <programlisting>
&lt;program_name version="1.0a" configuration="standard">
    MaxSAS
&lt;/program_name>
&lt;NXnote name="thumbnail" mime_type="image/*">
    &lt;!-- contents of an NXnote would appear here -->
&lt;/NXnote>
&lt;distance units="mm">125.6&lt;/distance>
&lt;mode> Single Bunch &lt;/mode>
&lt;target_material>depleted_U&lt;/target_material>
            </programlisting>
        </example>
        <para> The columns in the table are described as follows: </para>
        <para>
            <variablelist>
                <varlistentry>
                    <term>Name</term>
                    <listitem>
                        <para>Short name of the data field. Name must satisfy both HDF and XML
                            naming rules.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>Type</term>
                    <listitem>
                        <para>Type of data to be represented by this variable. The type is one of
                            those specified in the NXDL. <warning>
                                <para> put the URL here </para>
                                <para> NXDL needs some documentation </para>
                            </warning></para>
                        <para>In the case where the variable can take only one value from a known
                            list, the list of known values is presented, such as: [ Beryllium |
                            "Pyrolytic Graphite" | Graphite | Sapphire | Silicon | Supermirror ].
                            Selections with included whitespace are surrounded by quotes. See the
                            example above for usage.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>Description</term>
                    <listitem>
                        <para>A simple text description of the data field. No markup or formatting
                            is allowed.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>Units</term>
                    <listitem>
                        <para>Engineering units to be used. The units are those allowed by NeXus. <warning>
                                <para>THIS NEEDS REAL WORK HERE</para>
                            </warning></para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term>Attributes</term>
                    <listitem>
                        <para>Additional metadata used to define this variable.</para>
                    </listitem>
                </varlistentry>
            </variablelist>
        </para>
    </section>
    <xi:include href="BaseClassSections.xml"/>
</chapter>
