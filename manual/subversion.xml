<?xml version="1.0" encoding="UTF-8"?>
<?oxygen RNGSchema="http://www.oasis-open.org/docbook/xml/5.0/rng/docbook.rng" type="xml"?>
<!-- # $Id$ -->
<section  
	version="5.0"
	xml:id="SubversionSection" 
    xmlns="http://docbook.org/ns/docbook"
    xmlns:xlink="http://www.w3.org/1999/xlink" 
	xmlns:xi="http://www.w3.org/2001/XInclude">

        <title>NeXus Subversion Repositories</title>
        <indexterm><primary>subversion</primary></indexterm>
        <para>
            NeXus NXDL class definitions (both base classes and instruments) and 
            the NeXus code library source are held in a 
            <link 
                xlink:href="http://subversion.tigris.org"
                >subversion repository</link>.
            The repository is world readable and though you can browse the 
            <link 
                xlink:href="http://svn.nexusformat.org/code"
                >NeXus code library and applications</link>
            or 
            <link 
                xlink:href="http://svn.nexusformat.org/definitions"
                >NeXus NXDL class definitions</link>
            repositories directly, a better looking interface is provided 
            by the 
            <link 
                xlink:href="http://www.viewvc.org"
                >ViewVC</link>
            or 
            <link 
                xlink:href="http://trac.edgewall.org"
                >TRAC</link>
            browsers.
        </para>
        <simplelist>
            <member>
                Browse the NeXus code (library and applications) repository using
                <link 
                    xlink:href="http://svn.nexusformat.org/viewvc/NeXusCode"
                    >ViewVC</link>
                or 
                <link 
                    xlink:href="http://trac.nexusformat.org/code/browser"
                    >TRAC</link>
            </member>
            <member>
                Browse NeXus definitions (NXDL classes) repository using 
                <link 
                    xlink:href="http://svn.nexusformat.org/viewvc/NeXusDefinitions"
                    >ViewVC</link>                    or 
                <link 
                    xlink:href="http://trac.nexusformat.org/definitions/browser"
                    >TRAC</link>
            </member>
        </simplelist>
        <para>
            The repository can alse be interrogated for recent updates via a 
            <link 
                xlink:href="http://svn.nexusformat.org/viewvc/NeXusCode/trunk/?view=queryform"
                >query form</link>
            <programlisting>http://svn.nexusformat.org/viewvc/NeXusCode/trunk/?view=queryform</programlisting>
            For example, show me all changes in the last month for the
            <link 
                xlink:href="http://svn.nexusformat.org/viewvc/NeXusCode/trunk/?view=query&amp;date=month&amp;limit_changes=100"
                >code (library and applications)</link> repository
            <programlisting>http://svn.nexusformat.org/viewvc/NeXusCode/trunk/?view=query&amp;date=month&amp;limit_changes=100</programlisting>
            or 
            <link 
                xlink:href="http://trac.nexusformat.org/definitions/timeline?daysback=30"
                >Definition</link> repository
            <programlisting>http://trac.nexusformat.org/definitions/timeline?daysback=30</programlisting>
        </para>
        <para>
            If you wish to receive an email when a change is made to the repository you 
            should join the appropriate <link 
                xlink:href="#MailingListsSection"
                >Mailing Lists</link>. 
            <table>
                <title>TRAC RSS feed</title>
                <tgroup cols="2">
                    <colspec colwidth="3*"/>
                    <colspec colwidth="1*"/>
                    <tbody>
                        <row>
                            <entry>
                                Alternatively, you can use an RSS feed to keep abreast of changes.
                                TRAC provides a link to its RSS feed on pages with an orange 
                                <emphasis>XML RSS Feed</emphasis>
                                icon at their foot such as:
                            </entry>
                            <entry>
                                <mediaobject>
                                    <imageobject>
                                        <imagedata fileref="img/rssfeed.jpg" width="36" scalefit="1"/>
                                    </imageobject>
                                </mediaobject>
                            </entry>
                        </row>
                    </tbody>
                    
                </tgroup>
            </table>
        </para>
        <para>
            There are pages that show the subversion repository activity in a timeline 
            format or a tabular (revision log) format.
            <variablelist>
                <varlistentry>
                    <term>code (library and applications) repository timeline</term>
                    <listitem><para><link xlink:href="http://trac.nexusformat.org/code/timeline"
                        ><literal>http://trac.nexusformat.org/code/timeline</literal></link></para></listitem>
                </varlistentry>
                <varlistentry>
                    <term>definitions repository timeline</term>
                    <listitem><para><link xlink:href="http://trac.nexusformat.org/definitions/timeline"
                        ><literal>http://trac.nexusformat.org/definitions/timeline</literal></link></para></listitem>
                </varlistentry>
                <varlistentry>
                    <term>code repository revision log</term>
                    <listitem><para><link xlink:href="http://trac.nexusformat.org/code/log"
                        ><literal>http://trac.nexusformat.org/code/log</literal></link></para></listitem>
                </varlistentry>
                <varlistentry>
                    <term>definitions repository revision log</term>
                    <listitem><para><link xlink:href="http://trac.nexusformat.org/definitions/log"
                        ><literal>http://trac.nexusformat.org/definitions/log</literal></link></para></listitem>
                </varlistentry>
            </variablelist>
        </para>
        <section>
            <title>Login</title>
            <para>
                To update files in these repositories you will need to use 
                a subversion client such as 
                <link xlink:href="http://tortoisesvn.tigris.org/"
                    ><literal
                        >TortoiseSVN/</literal
                    ></link><footnote><para><link xlink:href="http://tortoisesvn.tigris.org/"
                        ><literal
                            >http://tortoisesvn.tigris.org/</literal
                        ></link></para></footnote>
                for Microsoft Windows or <code>svn</code> for command-line shells
                and also provide your NeXus Wiki username and password. 
                Note that for subversion write access:
                <itemizedlist>
                    <listitem>
                        <para>
                           If your Wiki username contains a space, write it with a 
                           space (i.e. do not replace the space with an _ as is
                           done in WIKI URLs)
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                           You cannot use a <emphasis>temporary password</emphasis>
                           (i.e. one that was 
                           emailed to you in response to a request). You must first 
                           log into MediaWiki with the temporary password and then 
                           go to account 
                           <link 
                               xlink:href="http://www.nexusformat.org/Special:Preferences"
                               >NeXus wiki Preferences</link>
                           and change the password.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                          Your Wiki account must have an email address associated 
                          with it and this address must have been validated. 
                          To provide and/or validate your email address, 
                          log in and go to your account 
                          <link 
                              xlink:href="http://www.nexusformat.org/Special:Preferences"
                              >NeXus wiki Preferences</link>.
                          section.
                        </para>
                    </listitem>
                    <listitem>
                        <para>
                          If you have login problems and have not changed your 
                          WIKI password since 20th October 2006, please go to the 
                          <link 
                              xlink:href="http://www.nexusformat.org/Special:UserLogin"
                              >NeXus wiki login</link>
                          page and request to be emailed a 
                          new password. To synchronise TRAC/Subversion/MediaWiki 
                          required some changes to the authentication system which 
                          will have invalidated passwords set prior to that date.
                        </para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>
                Here are the URLs to access the subversion repositories as a developer:
                <glosslist>
                    <glossentry>
                        <glossterm>code for library/applications</glossterm>
                        <glossdef><programlisting>https://svn.nexusformat.org/code/trunk</programlisting></glossdef>
                    </glossentry>
                    <glossentry>
                        <glossterm>definitions for NXDL classes</glossterm>
                        <glossdef><programlisting>https://svn.nexusformat.org/definitions/trunk</programlisting></glossdef>
                    </glossentry>
                    <glossentry>
                        <glossterm>checkout the code trunk</glossterm>
                        <glossdef><programlisting>svn co --username "My WIKI Username" https://svn.nexusformat.org/code/trunk nexus_code</programlisting></glossdef>
                    </glossentry>
                </glosslist>
                Please report any problems via the 
                <link xlink:href="#IssueReportingSection">Issue Reporting</link> 
                system.
            </para>
        </section>
        <section>
            <title>Committing Changes</title>
            <para>
                As well as needing a valid account, you will not be able to 
                check-in changes unless you indicate (in the log message 
                attached to the commit) which current issues on the 
                <link xlink:href="#IssueReportingSection">Issue Reporting</link> 
                system the changes either fix or refer to.
                This is done by enclosing special phrases in the commit 
                message of the form:
                <programlisting linenumbering="numbered"
                    ><xi:include 
                        href="examples/ex-svn-commit-message-syntax.txt" 
                        parse="text"
                    /></programlisting>
                where <literal>command</literal> is one of the commands detailed 
                below and <literal>#1</literal> means <emphasis>issue number 
                    1</emphasis> on the system, etc.
                You can have more then one command in a message. The following 
                commands are supported and there is more then one spelling for 
                each command (to make this as user-friendly as possible):
                <variablelist>
                    <varlistentry>
                        <term><literal>closes, fixes</literal></term>
                        <listitem>
                            <para>
                                The specified issue numbers are closed with the 
                                contents of this commit message being added to it.
                            </para>
                        </listitem>
                    </varlistentry>
                    <varlistentry>
                        <term><literal>references, refs, addresses, re</literal></term>
                        <listitem>
                            <para>
                                The specified issue numbers are left in their 
                                current status, but the contents of this commit
                                message are added to their notes.
                            </para>
                        </listitem>
                    </varlistentry>
                </variablelist>
            </para>
            <para>
                For example, the commit message
                <programlisting>Changed blah and foo to do this or that. Fixes #10 and #12, and refs #12.</programlisting>
                This will close issues #10 and #12, and add a note to #12 on the 
                <link xlink:href="#IssueReportingSection">Issue Reporting</link>  
                system. For a list of current issues, see:
                <simplelist>
                    <member>
                        Active tickets for the NeXus code library:
                        <link 
                            xlink:href="http://trac.nexusformat.org/code/report/1"
                            ><literal>http://trac.nexusformat.org/code/report/1</literal></link>
                    </member>
                    <member>
                        Active tickets for NeXus definitions:
                        <link 
                            xlink:href="http://trac.nexusformat.org/definitions/report/1"
                            ><literal>http://trac.nexusformat.org/definitions/report/1</literal></link>
                    </member>
                </simplelist>
            </para>
        </section>
        <section>
            <title>URLs described in this section</title>
            <para>
                Many Uniform Resource Locators (URLs) have been used in this section.
                This is a table describing them.
            </para>
            <glosslist>
                <glossentry>
                    <glossterm>Subversion revision management software</glossterm>
                    <glossdef>
                        <para>
                            <link xlink:href="http://subversion.tigris.org/"><literal>http://subversion.tigris.org/</literal></link>
                        </para>
                    </glossdef>
                </glossentry>
                <glossentry>
                    <glossterm>ViewVC versions control repository viewing software</glossterm>
                    <glossdef>
                        <para>
                            <link xlink:href="http://www.viewvc.org/"><literal>http://www.viewvc.org/</literal></link>
                        </para>
                    </glossdef>
                </glossentry>
                <glossentry>
                    <glossterm>TRAC issue management software</glossterm>
                    <glossdef>
                        <para>
                            <link xlink:href="http://trac.edgewall.org"><literal>http://trac.edgewall.org</literal></link>
                        </para>
                    </glossdef>
                </glossentry>
                <glossentry>
                    <glossterm>TortoiseSVN, Windows subversion client</glossterm>
                    <glossdef>
                        <para>
                            <link xlink:href="http://tortoisesvn.tigris.org/"><literal>http://tortoisesvn.tigris.org/</literal></link>
                        </para>
                    </glossdef>
                </glossentry>
                <glossentry>
                    <glossterm>NeXus code (library and applications) subversion repository</glossterm>
                    <glossdef>
                        <para>
                            <link xlink:href="http://svn.nexusformat.org/code/"><literal>http://svn.nexusformat.org/code/</literal></link>
                        </para>
                    </glossdef>
                </glossentry>
                <glossentry>
                    <glossterm>NeXus definitions subversion repository</glossterm>
                    <glossdef>
                        <para>
                            <link xlink:href="http://svn.nexusformat.org/definitions/"><literal>http://svn.nexusformat.org/definitions/</literal></link>
                        </para>
                    </glossdef>
                </glossentry>
                <glossentry>
                    <glossterm>ViewVC view of NeXus code (library and applications) repository</glossterm>
                    <glossdef>
                        <para>
                            <link xlink:href="http://svn.nexusformat.org/viewvc/NeXusCode"><literal>http://svn.nexusformat.org/viewvc/NeXusCode</literal></link>
                        </para>
                    </glossdef>
                </glossentry>
                <glossentry>
                    <glossterm>ViewVC view of NeXus definitions repository</glossterm>
                    <glossdef>
                        <para>
                            <link xlink:href="http://svn.nexusformat.org/viewvc/NeXusDefinitions"><literal>http://svn.nexusformat.org/viewvc/NeXusDefinitions</literal></link>
                        </para>
                    </glossdef>
                </glossentry>
                <glossentry>
                    <glossterm>TRAC view of NeXus code (library and applications) repository</glossterm>
                    <glossdef>
                        <para>
                            <link xlink:href="http://trac.nexusformat.org/code/browser"><literal>http://trac.nexusformat.org/code/browser</literal></link>
                        </para>
                    </glossdef>
                </glossentry>
                <glossentry>
                    <glossterm>NeXus code (library and applications) revision log</glossterm>
                    <glossdef>
                        <para>
                            <link xlink:href="http://trac.nexusformat.org/code/log"><literal>http://trac.nexusformat.org/code/log</literal></link>
                        </para>
                    </glossdef>
                </glossentry>
                <glossentry>
                    <glossterm>Active tickets for the NeXus code repository</glossterm>
                    <glossdef>
                        <para>
                            <link xlink:href="http://trac.nexusformat.org/code/report/1"><literal>http://trac.nexusformat.org/code/report/1</literal></link>
                        </para>
                    </glossdef>
                </glossentry>
                <glossentry>
                    <glossterm>NeXus code repository timeline</glossterm>
                    <glossdef>
                        <para>
                            <link xlink:href="http://trac.nexusformat.org/code/timeline"><literal>http://trac.nexusformat.org/code/timeline</literal></link>
                        </para>
                    </glossdef>
                </glossentry>
                <glossentry>
                    <glossterm>TRAC view of NeXus definitions repository</glossterm>
                    <glossdef>
                        <para>
                            <link xlink:href="http://trac.nexusformat.org/definitions/browser"><literal>http://trac.nexusformat.org/definitions/browser</literal></link>
                        </para>
                    </glossdef>
                </glossentry>
                <glossentry>
                    <glossterm>NeXus definitions revision log</glossterm>
                    <glossdef>
                        <para>
                            <link xlink:href="http://trac.nexusformat.org/definitions/log"><literal>http://trac.nexusformat.org/definitions/log</literal></link>
                        </para>
                    </glossdef>
                </glossentry>
                <glossentry>
                    <glossterm>Active tickets for NeXus definitions</glossterm>
                    <glossdef>
                        <para>
                            <link xlink:href="http://trac.nexusformat.org/definitions/report/1"><literal>http://trac.nexusformat.org/definitions/report/1</literal></link>
                        </para>
                    </glossdef>
                </glossentry>
                <glossentry>
                    <glossterm>NeXus definitions repository timeline</glossterm>
                    <glossdef>
                        <para>
                            <link xlink:href="http://trac.nexusformat.org/definitions/timeline"><literal>http://trac.nexusformat.org/definitions/timeline</literal></link>
                        </para>
                    </glossdef>
                </glossentry>
                <glossentry>
                    <glossterm>NeXus code repository (password required)</glossterm>
                    <glossdef>
                        <para>
                            <link xlink:href="https://svn.nexusformat.org/code/trunk"><literal>https://svn.nexusformat.org/code/trunk</literal></link>
                        </para>
                    </glossdef>
                </glossentry>
                <glossentry>
                    <glossterm>NeXus definitions repository (password required)</glossterm>
                    <glossdef>
                        <para>
                            <link xlink:href="https://svn.nexusformat.org/definitions/trunk"><literal>https://svn.nexusformat.org/definitions/trunk</literal></link>
                        </para>
                    </glossdef>
                </glossentry>
            </glosslist>                
        </section>
    
    
</section>
