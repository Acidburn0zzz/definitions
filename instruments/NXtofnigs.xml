<?xml version="1.0" encoding="UTF-8"?>
<!--
URL: http://definition.nexusformat.org/NXtofnigs
$Id$
  
Instrument Definition for a Time-of-flight Inverse Geometry Spectrometer

-->
<NXroot>
 <NXentry name="{Name of Entry}">+
   <NXinstrument name="{instrument name}">

    <name short_name="{short  name}">{name}</name>
    
    <NXsource name="{Name of facility}">
  			<name>{facility name}</name>
     	    <type>{type of beamline: "pulsed muon source" | "continuous muon source" | "low energy muon source"}</type>
     		<probe>"neutrons"</probe>
	</NXsource>

	<NXmoderator name="{Name of moderator}">
		<distance type="NX_FLOAT">{Effective distance as seen by measuring radiation}?</distance>
		<type type="NX_CHAR">{ "H20" | "D20"  |  "Liquid H2"  | "Liquid CH4" | "Liquid D2" | "Solid D2" | "C" |"Solid CH4" | "Solid H2"}?</type>
        <poison_depth NAPItype="NX_FLOAT32" units="centimetre"></poison_depth>
        <poison_material>Gd</poison_material>
        <temperature NAPItype="NX_FLOAT32" units="Kelvin"></temperature>
	</NXmoderator>

    <NXdetector name="{name of bank}">+
        <counts type="NX_INT32[i]" units="counts" signal="1">{array of counts}</counts>
        <x_pixel_offset NAPItype="NX_FLOAT32[i]" axis="NX_INT16:1" units="metre" primary="NX_INT16:1"></x_pixel_offset>
        <y_pixel_offset NAPItype="NX_FLOAT32[i]" axis="NX_INT16:2" units="metre" primary="NX_INT16:1"></y_pixel_offset>
        <polar_angle NAPItype="NX_FLOAT32[i]" axis="NX_INT16:1" units="radian" primary="NX_INT16:2"></polar_angle>
        <azimuthal_angle NAPItype="NX_FLOAT32[i]" units="radian"></azimuthal_angle>
        <distance NAPItype="NX_FLOAT32[i]" axis="NX_INT16:2" units="metre" primary="NX_INT16:2"></distance>
        <NXgeometry name="origin">
          <description>Position of the detector ceter relative to the origin of the instrument</description>
          <NXtranslation name="translation">
            <distance NAPItype="NX_FLOAT32[3]" units="metre"></distance>
          </NXtranslation>
          <NXorientation name="orientation">
            <description>The orientation is with the positive x-axis pointing in the original positive z-direction</description>
            <value NAPItype="NX_FLOAT32[3]"></value>
          </NXorientation>
          <NXshape name="shape">
            <description>diameter,height</description>
            <shape>nxcylinder</shape>
            <size NAPItype="NX_FLOAT32[2]" units="metre"></size>
          </NXshape>
        </NXgeometry>
    </NXdetector>
    
    <NXcrystal name="{analyzer}">
        <type>{type}</type>
        <wavelength NAPItype="NX_FLOAT32[i]" units="Angstroms"></wavelength>
        <NXgeometry name="origin">
          <description>Position of the analyzer crystal relative to the origin of the instrument</description>
          <NXtranslation name="translation">
            <distance NAPItype="NX_FLOAT32[3]" units="metre"></distance>
          </NXtranslation>
          <NXorientation name="orientation">
            <description>The orientation is with the positive x-axis pointing in the original positive z-direction</description>
            <value NAPItype="NX_FLOAT32[6]"></value>
          </NXorientation>
          <NXshape name="shape">
            <shape>nxsphere</shape>
            <size NAPItype="NX_FLOAT32" units="metre"></size>
          </NXshape>
        </NXgeometry>
    </NXcrystal>

   </NXinstrument>
   
   <NXmonitor name="monitor">
      <distance NAPItype="NX_FLOAT32" units="metre"></distance>
   </NXmonitor>
   
   <NXdata name="{name of detector bank}">
     		<NAPIlink name="counts"></NAPIlink>
   </NXdata>
   </NXentry>
  </NXroot>